version: 2

models:

  - name: stg_greenery__events
    description: information about events
    columns:
      - name: events_id
        #tests:
        #- not_null
        #- unique
      - name: session_id
        tests:
        - not_null
      - name: user_id
        tests:
          - not_null
          - relationships:
              to: ref('stg_greenery__users')
              field: user_id
      - name: event_type
        tests:
          - not_null
          - accepted_values:
              values:
                - checkout
                - package_shipped
                - add_to_cart
                - page_view 
      - name: page_url
        tests: 
          - not_null
      - name: created_at
      - name: order_id
        tests:
          - relationships:
              to: ref('stg_greenery__orders')
              field: order_id     
      - name: product_id
        tests:
          - relationships:
              to: ref('stg_greenery__products')
              field: product_id     